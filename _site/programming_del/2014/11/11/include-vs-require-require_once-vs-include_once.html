<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="/assets/css/bootstrap.min.css" />
<link rel="stylesheet" href="/assets/css/ionicons.min.css" />
<link rel="stylesheet" href="/assets/css/styles.css" />
  <script src="/assets/js/jquery.min.js"></script>
<script src="/assets/js/popper.min.js"></script>
<script src="/assets/js/bootstrap.min.js"></script>

  <title>include() vs require() &amp; require_once() vs include_once()</title>
  <meta name="description" content="В php ф-ии include, require отвечают за вставку кода из одних файлов в другие. Ф-ии имеют одинаковый синтаксис: include(&#39;file&#39;); require(&#39;file&#39;); include &#39;fi...">

  <link rel="canonical" href="http://localhost:4000/programming_del/2014/11/11/include-vs-require-require_once-vs-include_once.html">
  <link rel="alternate" type="application/rss+xml" title="aldb" href="/feed.xml">
  
  
</head>



<body>


<section class="bg-dark">
    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
  <div class="container">
  <a class="navbar-brand text-primary" href="http://localhost:4000">aldb</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarCollapse">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
        <a class="nav-link" href="http://localhost:4000/#">Intro</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="http://localhost:4000/#Portfolio">Portfolio</a>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link" href="#Contact">Contact</a>
      </li>
      <li class="nav-item">
        <a class="nav-link active" href="#">Blog<span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item pull-xs-right">
          <a class="nav-link" href="https://www.linkedin.com/in/alex-dubinchyk-76054ba0?trk=nav_responsive_tab_profile">
              <i class="ion-social-linkedin"></i>
          </a>
      </li>
      <li class="nav-item pull-xs-right">
          <a class="nav-link" href="https://github.com/aldb">
              <i class="ion-social-github"></i>
          </a>
      </li>
    </ul>
  </div>
  </div>
</nav>
</section>
<section>
  <div class="container py-4">
    <main role="main" class="container" style="padding: 60px;">
      <div class="row">
        <div class="col-md-8 blog-main">
          <div class="blog-post">
            <h2 class="blog-post-title">include() vs require() & require_once() vs include_once()</h2>
            <p class="blog-post-meta">11 November 2014 by <a href="#">aldb</a></p>
            <p>В php ф-ии include, require отвечают за вставку кода из одних файлов в другие. Ф-ии имеют одинаковый синтаксис:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="k">include</span><span class="p">(</span><span class="s1">'file'</span><span class="p">);</span>
<span class="k">require</span><span class="p">(</span><span class="s1">'file'</span><span class="p">);</span>
<span class="k">include</span> <span class="s1">'file'</span><span class="p">;</span>
<span class="k">require</span> <span class="s1">'file'</span><span class="p">;</span></code></pre></figure>

<p><img src="../../../../assets/img/posts/2014/11/include.png" class="img-fluid" alt="Responsive image" /></p>

<p>Данные ф-ии производят вставку и выполнение кода из указанного файла, но имеют следующие различия в случаи ошибки(файл не найден):</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="k">require</span> <span class="o">-</span> <span class="nx">Fatal</span> <span class="nx">error</span><span class="p">(</span><span class="nx">E_COMPILE_ERROR</span><span class="p">),</span> <span class="nx">т</span><span class="o">.</span><span class="nx">е</span> <span class="nx">останока</span> <span class="nx">скрипта</span>
<span class="k">include</span> <span class="o">-</span> <span class="nx">Warning</span> <span class="nx">error</span><span class="p">(</span><span class="k">E_WARNING</span><span class="p">)</span> <span class="nx">и</span> <span class="nx">продолжение</span> <span class="nx">выполнение</span> <span class="nx">сценария</span><span class="o">.</span></code></pre></figure>

<p>Если в настройках PHP указано отображение ошибок пользователь увидит данный ошибку и что хуже вашу структуру файлов.</p>

<p>Использование require более рационально в целях безопастности.</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="k">require_once</span> <span class="nx">и</span> <span class="k">include_once</span> <span class="nx">отличаются</span><span class="o">:</span></code></pre></figure>

<p>Если код из файла уже один раз был включен, он не будет включен и выполнен повторно.</p>

<p>Например:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="nb">var_dump</span><span class="p">(</span><span class="k">include_once</span> <span class="s1">'file.php'</span><span class="p">);</span> <span class="c1">// exec script
</span><span class="nb">var_dump</span><span class="p">(</span><span class="k">include_once</span> <span class="s1">'file.php'</span><span class="p">);</span> <span class="c1">// bool(true)
</span>
<span class="nb">var_dump</span><span class="p">(</span><span class="k">require_once</span> <span class="s1">'file.php'</span><span class="p">);</span> <span class="c1">// bool(true)
</span><span class="nb">var_dump</span><span class="p">(</span><span class="k">require_once</span> <span class="s1">'file.php'</span><span class="p">);</span> <span class="o">//</span> <span class="nx">bool</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span></code></pre></figure>

<p>Выполнение файла кода в файле file.php произойдет только при первом запуске include_once. В остальных случаях ф-ия вернет true - файл уже подключен.</p>

<p>Что бы избежать ошибок используются относительные пути:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="k">require</span><span class="p">(</span><span class="nb">dirname</span><span class="p">(</span><span class="k">__FILE__</span><span class="p">)</span><span class="o">.</span><span class="s1">'/params.php'</span><span class="p">);</span>

<span class="c1">//__FILE__ - абсолютный путь с разрешенными символическими ссылками
</span><span class="k">include_once</span><span class="p">(</span><span class="nb">dirname</span><span class="p">(</span><span class="k">__FILE__</span><span class="p">)</span> <span class="o">.</span> <span class="s1">'/database.class.php'</span><span class="p">);</span></code></pre></figure>

<p>Так же можно проверить подключение файлов, например с определением константы:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="nb">define</span><span class="p">(</span><span class="s1">'__ROOT__'</span><span class="p">,</span> <span class="nb">dirname</span><span class="p">(</span><span class="nb">dirname</span><span class="p">(</span><span class="k">__FILE__</span><span class="p">)));</span> 
<span class="k">require_once</span><span class="p">(</span><span class="nx">__ROOT__</span><span class="o">.</span><span class="s1">'/config.php'</span><span class="p">);</span> </code></pre></figure>

<p>Для автоматической загрузки классов используются функция</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="nb">spl_autoload_register</span><span class="p">()</span><span class="o">.</span></code></pre></figure>

<p>Пример загруки с использованием ф-ии</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="k">function</span> <span class="nf">myAutoloader</span><span class="p">(</span><span class="nv">$className</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$path</span> <span class="o">=</span> <span class="s1">'/path/to/class/'</span><span class="p">;</span>

    <span class="k">include</span> <span class="nv">$path</span><span class="o">.</span><span class="nv">$className</span><span class="o">.</span><span class="s1">'.php'</span><span class="p">;</span>
<span class="p">}</span>

<span class="nb">spl_autoload_register</span><span class="p">(</span><span class="s1">'myAutoloader'</span><span class="p">);</span>
<span class="nv">$myClass</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MyClass</span><span class="p">();</span></code></pre></figure>

<p>Пример использования автозагрузки с использованием классов</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="nb">spl_autoload_register</span><span class="p">(</span><span class="s1">'MyAutoloader::ClassLoader'</span><span class="p">);</span>
<span class="nb">spl_autoload_register</span><span class="p">(</span><span class="s1">'MyAutoloader::HelperLoader'</span><span class="p">);</span>
<span class="nb">spl_autoload_register</span><span class="p">(</span><span class="s1">'MyAutoloader::DatabaseLoader'</span><span class="p">);</span>
	
	<span class="k">class</span> <span class="nc">MyAutoloader</span> <span class="p">{</span>
		<span class="k">public</span> <span class="nv">$path</span> <span class="o">=</span> <span class="s1">'/path/to/class/'</span><span class="p">;</span>

	    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">ClassLoader</span><span class="p">(</span><span class="nv">$className</span><span class="p">){</span>
	         <span class="k">require</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">path</span> <span class="o">.</span> <span class="s1">'className.php'</span><span class="p">;</span>
	    <span class="p">}</span>
	
	
	    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">LibraryLoader</span><span class="p">(</span><span class="nv">$className</span><span class="p">)</span> <span class="p">{</span>
	         <span class="k">require</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">path</span> <span class="o">.</span> <span class="s1">'className.php'</span><span class="p">;</span>
	    <span class="p">}</span></code></pre></figure>

          </div><!-- /.blog-post -->

          
        </div><!-- /.blog-main -->

        <aside class="col-md-4 blog-sidebar">
          <div class="p-3 mb-3 bg-light rounded">
            
            <h4 class="font-italic">About</h4>
            <p class="mb-0">Webpage aldb - "The Full Stack Developer" building Real-World Scalable Web Apps. Welcome to my github pages, it’s great to have you.</p>
            
          </div>

          <div class="p-3">
            <h4 class="font-italic">Archives</h4>
            <ol class="list-unstyled mb-0">
            
            
            
            
            
              <li><a href="/programming/2018/03/03/big-o-notation-in-js.html">March 2018</a></li>
            
            
            
            
              <li><a href="/programming/2016/07/13/differences-between-web-servers.html">July 2016</a></li>
            
            
            
            
              <li><a href="/programming/2016/06/01/nightwatjs-guide.html">June 2016</a></li>
            
            
            
            
              <li><a href="/programming/2016/06/01/install-nodejs-npm-by-brew.html">June 2016</a></li>
            
            
            
            
              <li><a href="/programming/2016/03/21/bash-command-not-found.html">March 2016</a></li>
            
            
            
            
              <li><a href="/programming/2016/02/23/Jekyll-vs-ghost-cms.html">February 2016</a></li>
            
            
            
            
              <li><a href="/programming/2015/02/13/sql-joins.html">February 2015</a></li>
            
            
            
            
              <li><a href="/programming/2014/10/20/raznitsa-datetime-i-timestamp.html">October 2014</a></li>
            
            
            
            
              <li><a href="/programming/2014/10/19/ustanovka-phpunit.html">October 2014</a></li>
            
            
            
            
              <li><a href="/programming/2014/10/14/kak-sozdat-blogh-na-github-io-ispolzuia-cms-ghost.html">October 2014</a></li>
            
            
            
            
            
            </ol>
          </div>
        </aside><!-- /.blog-sidebar -->

      </div><!-- /.row -->

    </main><!-- /.container -->
</div>

</section>


<div id="map"></div>
<footer id="myFooter" class="bg-dark">
    <div class="container" id="Contact">
        <div class="row">
            <div class="col-sm-4">
                <h6>Contact</h6>
                <ul>
                    <li>Email</li>
                    <li>aldb.pr@gmail.com</li>
                </ul>
            </div>
            <div class="col-sm-4">
                <h6>Location</h6>
                <ul>
                    <li>Bay Area, CA</li>
                </ul>
            </div>
            <div class="col-sm-4">
                <h6>Social</h6>
                <ul>
                    <li><a href="https://github.com/aldb">Github</a></li>
                    <li><a href="https://www.linkedin.com/in/alex-dubinchyk-76054ba0/?trk=nav_responsive_tab_profile">Linkein</a></li>
                    <li><a href="https://www.codewars.com/users/aldb">Codewars</a></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="footer-copyright">
        <p>Made with <i class="ion-android-favorite-outline"></i> 2014-2018</p>
    </div>
</footer>


<!-- GOOGLE MAP -->
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAMQ2hSX8M4dfpI0-_C3bz0JjOdGQGMvdI"></script>
<script type="text/javascript">

$(document).ready(function () {
  /***************** Google Map ******************/
  function initialize() {
    var styles     = [{
      "featureType": "poi",
      "elementType": "all",
      "stylers": [{
        "visibility": "off"
      }]
    }, {
      "featureType": "transit",
      "elementType": "all",
      "stylers": [{
        "visibility": "off"
      }]
    }, {
      "featureType": "water",
      "elementType": "labels",
      "stylers": [{
        "visibility": "off"
      }]
    }, {
      "featureType": "landscape.man_made",
      "elementType": "all",
      "stylers": [{
        "visibility": "on"
      }]
    }, {
      "featureType": "landscape.natural",
      "elementType": "labels",
      "stylers": [{
        "visibility": "off"
      }]
    }, {
      "featureType": "landscape.natural.terrain",
      "elementType": "all",
      "stylers": [{
        "visibility": "off"
      }]
    }, {
      "featureType": "administrative.neighborhood",
      "elementType": "all",
      "stylers": [{
        "visibility": "off"
      }]
    }, {
      "featureType": "road.local",
      "elementType": "labels",
      "stylers": [{
        "visibility": "off"
      }]
    }, {
      "featureType": "road.local",
      "elementType": "geometry",
      "stylers": [{
        "color": "#47453e"
      }]
    }, {
      "featureType": "road.arterial",
      "elementType": "geometry",
      "stylers": [{
        "visibility": "simplified"
      }, {
        "color": "#5e5532"
      }]
    }, {
      "featureType": "road.highway",
      "elementType": "labels",
      "stylers": [{
        "visibility": "off"
      }]
    }, {
      "featureType": "administrative.country",
      "elementType": "geometry",
      "stylers": [{
        "color": "#949494"
      }]
    }, {
      "featureType": "road.arterial",
      "elementType": "labels",
      "stylers": [{
        "visibility": "off"
      }]
    }, {
      "featureType": "landscape.man_made",
      "elementType": "all",
      "stylers": [{
        "visibility": "off"
      }]
    }, {
      "featureType": "landscape.natural",
      "elementType": "all",
      "stylers": [{
        "color": "#333333"
      }]
    }, {
      "featureType": "road.highway",
      "elementType": "geometry",
      "stylers": [{
        "color": "#404040"
      }]
    }, {
      "featureType": "water",
      "elementType": "all",
      "stylers": [{
        "color": "#8798ab"
      }]
    }, {
      "featureType": "administrative.country",
      "elementType": "labels.text.fill",
      "stylers": [{
        "color": "#c7c7c7"
      }]
    }, {
      "featureType": "administrative.province",
      "elementType": "labels.text.fill",
      "stylers": [{
        "color": "#6b6b6b"
      }]
    }, {
      "featureType": "administrative.province",
      "elementType": "all",
      "stylers": [{
        "visibility": "off"
      }]
    }, {
      "featureType": "administrative.locality",
      "elementType": "labels.icon",
      "stylers": [{
        "color": "#ffcc00"
      }]
    }, {
      "featureType": "road",
      "elementType": "labels.icon",
      "stylers": [{
        "visibility": "off"
      }]
    }, {
      "featureType": "administrative.country",
      "elementType": "labels.text.stroke",
      "stylers": [{
        "color": "#333333"
      }, {
        "weight": 5
      }]
    }, {
      "featureType": "administrative.locality",
      "elementType": "labels.text.stroke",
      "stylers": [{
        "color": "#333333"
      }]
    }, {
      "featureType": "administrative.locality",
      "elementType": "labels.text.fill",
      "stylers": [{
        "color": "#b3b3b3"
      }]
    }, {
      "featureType": "administrative.land_parcel",
      "elementType": "all",
      "stylers": [{
        "visibility": "off"
      }]
    }, {
      "featureType": "road.highway",
      "elementType": "geometry",
      "stylers": [{
        "visibility": "simplified"
      }, {
        "color": "#525252"
      }]
    }, {
      "featureType": "road.highway.controlled_access",
      "elementType": "geometry",
      "stylers": [{
        "color": "#474747"
      }]
    }];
    var mapCanvas  = document.getElementById('map');
    var mapOptions = {
        center: new google.maps.LatLng(37.5689858, -122.0744625),
        zoom: 8,
        mapTypeId: google.maps.MapTypeId.ROADMAP,
          styles: styles
    }
    var map = new google.maps.Map(mapCanvas, mapOptions);
  }
  google.maps.event.addDomListener(window, 'load', initialize);

});
</script>
<!-- GOOGLE MAP -->
</body>
</html>
